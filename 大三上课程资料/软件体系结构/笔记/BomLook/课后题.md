# 课后题

## 第一章

### 题目1

Software architecture is often compared to the architecture of buildings as a conceptual analogy. What are the strong points of that analogy? What is the correspondence in buildings to software architecture structures and views? To patterns? What are the weaknesses of the analogy? When does it break down?
**翻译**：软件架构常被类比为建筑架构。这个类比的优点是什么？建筑中与软件架构的“结构”“视图”对应的是什么？与“模式”对应的又是什么？这个类比的缺点是什么？它在什么情况下不再适用？



**该类比的优点**：

- 基础性重要性：软件架构和建筑架构都是各自系统的基础。良好的架构设计为整个系统搭建了稳健的结构，是所有其他组件高效运作的框架。
- 指导开发：两类架构都是系统开发的蓝图或指导方案。建筑中，架构规划决定空间的布局、动线与整合；软件中，架构定义组件的结构、交互方式及演化逻辑。
- 复用性与模式：两者都会用到成熟的模式或设计。建筑中的模式包括穹顶、拱门、梁等结构形式；软件中的分层、客户端-服务器、微服务等模式则指导构建可扩展、高效的系统。
- 多视图：建筑可从多个视角呈现（如平面图、立面图、剖面图），软件架构也常通过不同视图展示，比如模块视图、部署视图、组件-连接器视图。

**建筑中与软件架构“结构”“视图”的对应关系**：

- 结构：建筑中的墙体、梁、地板等对应软件组件；建筑中的承重连接对应软件中的数据流。
- 视图：建筑的立面图、剖面图等多视角呈现方式，对应软件的组件视图、部署视图等不同系统视角。
- 模式：建筑的住宅、商业、哥特式、现代式等风格模式，对应软件的分层、客户端-服务器、事件驱动等设计模式。

**该类比的缺点**：

- 动态性 vs 静态性：建筑架构基本是静态的，而软件系统是动态且持续演化的，这使得软件的架构决策在扩展性、维护性、适应性方面更复杂。
- 物理约束 vs 逻辑约束：建筑受重量、材料、空间等物理约束，软件架构则主要处理数据流、算力、用户需求等逻辑约束。
- 人机交互：人与建筑的交互是直接的（如物理空间移动），而用户与软件的交互更抽象，需通过界面和软件逻辑中介。
- 类比的失效场景：当涉及软件对灵活性的需求、功能的持续变更，或快速集成新技术的能力时，类比就不适用了——建筑一旦建成，大幅改造往往成本高、难度大。




### 题目2
Do the architectures you’ve been exposed to document different structures and relations like those described in this chapter? If so, which ones? If not, why not?
**翻译**：你接触过的架构是否记录了本章所描述的那些不同结构和关系？如果是，具体是哪些？如果不是，原因是什么？

我接触过的架构通常会记录多种结构与关系，比如典型的软件架构会记录模块化结构、组件交互、数据流，与本章描述的内容类似。但部分架构可能因项目范围（或聚焦性能优化、界面设计等特定方向），缺少分配结构、部署结构等视图。




### 题目3
Is there a different definition of software architecture that you are familiar with? If so, compare and contrast it with the definition given in this chapter. Many definitions include considerations like “rationale” (stating the reasons why the architecture is what it is) or how the architecture will evolve over time. Do you agree or disagree that these considerations should be part of the definition of software architecture?
**翻译**：你是否熟悉软件架构的其他定义？如果是，将其与本章给出的定义进行比较和对比。许多定义会包含“设计依据”（说明架构为何是当前形态的原因）或架构随时间的演化方式等内容。你是否认同这些内容应该被纳入软件架构的定义中？

另一个常见的软件架构定义包含“设计依据”——即设计决策背后的逻辑，比如解释为何选择特定模式/技术，或为何在性能与扩展性间做权衡。与本章定义相比，这增加了架构的“合理性说明”层，对后续决策或利益相关者理解设计选择很有价值。
我认同“设计依据”和“演化”应纳入定义，因为它们解释了架构的“成因”，能帮助后续开发团队理解其演化逻辑，更顺利地修改或扩展系统。




### 题目4
Discuss how an architecture serves as a basis for analysis. What about decision-making? What kinds of decision-making does an architecture empower?
**翻译**：讨论架构如何作为分析的基础。它在决策中又起到什么作用？架构能支持哪些类型的决策？

架构通过提供评估性能、可修改性、安全性等质量属性的框架，成为系统分析的基础。例如，并发结构可揭示潜在瓶颈，部署结构能评估系统的扩展能力。
在决策方面，架构支持成本、进度、资源分配、风险管理等决策。比如，选择分层架构可提升可修改性，这会影响长期维护成本的决策。




### 题目5
What is architecture’s role in project risk reduction?
**翻译**：架构在降低项目风险方面起到什么作用？

架构通过以下方式降低项目风险：

- 明确性：厘清系统整体结构，确保所有利益相关者对组件及交互方式有共识。
- 提前识别瓶颈：通过架构分析，可尽早发现性能、扩展性问题，预留调整时间。
- 指导增量开发：清晰的架构支持模块化增量开发，系统可分部分测试、部署，降低失败风险。



### 题目6

Find a commonly accepted definition of system architecture and discuss what it has in common with software architecture. Do the same for enterprise architecture.
**翻译**：找出系统架构的一个被广泛接受的定义，并讨论它与软件架构的共同之处。对企业架构也做同样的分析。

- 系统架构：通常指包含硬件和软件元素的系统整体结构，描述不同子系统的交互（如嵌入式系统中软硬件的协同）。
- 软件架构：如本章定义，主要聚焦软件系统内的组件及关系。
- 企业架构：涵盖组织整个IT基础设施的结构与设计，包括系统、应用、数据、技术，提供高层视图以对齐IT策略与业务目标。
  三者都关注结构性决策，但企业架构超出软件范畴，包含业务流程与IT系统的对齐。




### 题目7

Find a published example of an architecture. What structure or structures are shown? Given its purpose, what structure or structures should have been shown? What analysis does the architecture support? Critique it: What questions do you have that the representation does not answer?
**翻译**：找一个已公开的架构示例。它展示了哪些结构？考虑其用途，它本应该展示哪些结构？该架构支持什么分析？对其进行批判：该架构的呈现没有回答你哪些问题？

以Web电商平台的架构为例：

- 已展示的结构：通常包含客户端-服务器结构、组件-连接器结构（如前端、后端服务）、部署结构（如云端服务器、数据库）。
- 缺失的结构：若未包含，应补充“工作分配结构”（团队职责划分）和“性能相关结构”（如缓存层），以便更好地分析性能与团队责任。
- 支持的分析：该架构支持性能、扩展性、可用性分析，但可能缺少安全或数据隐私的细节——这对电商平台至关重要。




### 题目8

Sailing ships have architectures, which means they have “structures” that lend themselves to reasoning about the ship’s performance and other quality attributes. Look up the technical definitions for barque, brig, cutter, frigate, ketch, schooner, and sloop. Propose a useful set of “structures” for distinguishing and reasoning about ship architectures.
**翻译**：帆船是有架构的，这意味着它们具备能用于分析船只性能及其他质量属性的“结构”。查阅barque（三桅帆船）、brig（双桅横帆船）、cutter（独桅纵帆船）、frigate（护卫舰式帆船）、ketch（双桅纵帆船）、schooner（纵帆船）和sloop（单桅纵帆船）的技术定义。提出一套用于区分和分析帆船架构的实用“结构”。

针对帆船，可提出以下区分与分析其架构的结构：
- 船体结构：定义船型，影响稳定性与速度。
- 索具结构：包含帆和桅杆的类型，决定航行能力与风阻。
- 操控结构：指舵、舵轮等转向机制，影响机动性。
- 货舱结构：描述内部空间的 cargo 布局，影响容量与平衡。
这些结构可用于分析帆船的性能、速度、航行能力、负载分布——类似软件架构分析系统属性的方式。



## 第二章

### 题目1
**原文**：For each of the thirteen reasons articulated in this chapter why architecture is important, take the contrarian position: Propose a set of circumstances under which architecture is not necessary to achieve the result indicated. Justify your position. (Try to come up with different circumstances for each of the thirteen.)
**翻译**：针对本章阐述的架构重要性的13个理由，分别站在反对立场：提出一套情境，在该情境下要实现对应结果并不需要架构。请为你的立场进行论证。（尝试为这13个理由分别构思不同的情境）



1. 架构会限制或促进系统的核心质量属性

  - 反对观点：在小型项目或原型开发中，直接修改代码和迭代测试可能比依赖架构更能有效推动质量属性优化。开发者可根据即时需求快速决策，无需受正式架构约束。

2. 架构决策能帮助你在系统演化时分析和管理变更

  - 反对观点：在快速迭代的敏捷环境或短期项目中，系统演化速度快，架构决策可能很快过时；持续重构或许比依赖长期架构决策更适合管理变更。

3. 架构分析能提前预测系统的质量属性

  - 反对观点：在范围狭窄的小型项目或实验中，早期架构分析的收益有限。开发者可快速构建系统，通过直接测试而非基于架构的预测来确定质量属性。

4. 文档化的架构能增强利益相关者之间的沟通

  - 反对观点：在高度协作的小型团队中，口头沟通或非正式会议足以传递想法、解决问题。架构文档可能耗时且不必要。

5. 架构是最早、最基础且最难修改的设计决策的载体

  - 反对观点：在需求不明确或频繁变更的项目中，架构反而会限制灵活性。这类项目更适合推迟架构决策，按需演化系统。

6. 架构为后续实现定义了约束条件

  - 反对观点：在快速开发或创新场景中，最少的架构约束更有利——能让团队自由探索不同方案，不受僵化规则限制。

7. 架构决定组织架构（或反之）

  - 反对观点：在小型或去中心化组织中，架构对组织架构的影响不大。团队可自主组织，灵活的工作流程比依赖顶层架构愿景更有效。

8. 架构能作为演化式原型开发的基础

  - 反对观点：在高度探索性的项目中，预定义架构可能限制创新方案的探索。演化式原型开发可脱离结构化架构，聚焦快速迭代和反馈。

9. 架构是架构师和项目经理分析成本与进度的核心工件

  - 反对观点：在小型项目或截止日期紧张的场景中，通过简单任务清单和时间盒技术能更高效地管理成本与进度，无需详细的架构规划。

10. 架构可作为可转移、可复用的模型，成为产品线的核心

  - 反对观点：在高度定制化或小众产品中，创建可复用模型的成本可能超过收益。为产品量身定制的一次性架构可能比复用架构更划算。

11. 基于架构的开发更关注组件组装，而非仅组件创建

  - 反对观点：在小型单体应用或原型开发中，重点可能是快速做出可用原型，而非组装独立组件。可通过直接开发避免管理多组件的复杂度。

12. 架构通过限制设计选项，引导开发者的创造力，降低设计与系统复杂度

  - 反对观点：在高度创新的环境（如初创公司）中，架构约束限制设计选项可能扼杀创新。此时保持选项开放、自由实验更合适。

13. 架构能作为新团队成员的培训基础

  - 反对观点：在节奏快、人员流动大的小型团队或短期项目中，直接指导和在岗学习可能比依赖架构文档培训新成员更有效。




### 题目2
**原文**：This chapter argues that architecture brings a number of tangible benefits. How would you measure the benefits, on a particular project, of each of the thirteen points?
**翻译**：本章提出架构能带来若干实际收益。在一个具体项目中，你会如何衡量这13个要点各自产生的收益？

可通过以下指标或评估方法衡量13个要点的收益：

1. 限制/促进质量属性：实现架构后，测量性能、扩展性、安全性等指标（如响应时间、正常运行时间、吞吐量）的提升。
2. 分析与管理变更：跟踪重构的时间与精力投入。架构驱动项目中变更越少、重构越少，说明变更管理越成功。
3. 提前预测系统质量：用早期测试/仿真结果预测性能，对比架构预测与实际实现后的结果，衡量预测准确性。
4. 增强利益相关者沟通：通过调研衡量架构文档化前后的利益相关者满意度与对齐度，跟踪无文档时出现的问题或误解。
5. 承载早期设计决策：评估设计变更频率及变更成本。早期决策越稳定，后续变更的成本与干扰越小。
6. 定义实现约束：测量实现的速度与灵活性。约束过多可能拖慢开发，过少可能导致组件不一致。
7. 架构决定组织架构：测量架构导向的团队沟通与决策效率，跟踪这类团队的绩效或生产力。
8. 演化式原型开发的基础：跟踪原型构建速度与系统变更频率。若系统能快速适配，说明演化式原型降低了风险。
9. 成本与进度的核心工件：对比初始估算与实际成本、进度。架构规划后预测越准确，说明其越有效。
10. 产品线的可转移/可复用模型：评估跨产品复用架构节省的成本与时间，复用性指标包括新产品开发时间的减少。
11. 组件组装 vs 组件创建：跟踪组装现有组件与创建新组件的时间占比。关注组装可缩短上市时间。
12. 限制设计选项以降低复杂度：跟踪系统复杂度（如代码变动、bug报告、维护成本）。设计选项越少，系统可能越简单易维护。
13. 作为培训新成员的基础：测量新成员的上手速度。入职越快、系统相关疑问越少，说明架构文档的培训效果越好。




### 题目3
**原文**：Suppose you want to introduce architecture-centric practices to your organization. Your management is open to the idea, but wants to know the ROI for doing so. How would you respond?
**翻译**：假设你希望在自己的组织中引入以架构为核心的实践。管理层对这个想法持开放态度，但想知道这么做的投资回报率（ROI）。你会如何回应？

引入以架构为核心的实践时，可从以下角度论证ROI：

- 减少返工与错误：提前明确架构指南，团队更少出现需要高成本返工的设计错误。
- 更快扩展与更高质量：架构支持在扩展性、性能、可维护性上的更好决策，使系统更易扩展，降低长期开发成本。
- 改善沟通：文档化的架构让所有利益相关者清晰理解系统，减少沟通偏差与模糊性，避免代价高昂的错误、提升项目协作效率。
- 加快新成员入职：文档化架构能让新成员更快上手，减少培训时间、加快项目交付。
- 长期成本节约：跨项目复用架构模型或组件，减少未来开发时间与成本。架构的复用性降低了多产品周期的总拥有成本。




### 题目4
**原文**：Prioritize the list of thirteen points in this chapter according to some criteria meaningful to you. Justify your answer. Or, if you could choose only two or three of the reasons to promote the use of architecture in a project, which would you choose and why?
**翻译**：根据对你有意义的某种标准，对本章中的13个要点进行优先级排序，并为你的答案辩护。或者，如果你只能选择2到3个理由来推动架构在项目中的应用，你会选哪几个？为什么？

基于对长期成功的关键程度，优先级排序如下：
1. 架构会**限制或促进系统的核心质量属性**（性能、安全性、可修改性等直接影响系统成败）
2. 架构分析能**提前预测系统的质量属性**（早期预测可避免后期高成本变更）
3. 架构是**最早、最基础且最难修改**的设计决策的载体（这些决策影响系统长期方向，后期修改成本极高）
4. 架构为**后续实现定义了约束条件**（约束确保实现的一致性与方向性）
5. 架构是架构师和项目经理**分析成本与进度的核心工件**（成本与进度管理对项目成功至关重要）
6. 文档化的架构能**增强利益相关者之间的沟通**（清晰沟通是项目对齐、避免错误的关键）
7. 架构可作为**可转移、可复用的模型，成为产品线的核心**（复用性降低未来成本、加快产品开发）
8. 基于架构的开发**更关注组件组装，而非仅组件创建**（组装现有组件可加快开发、保障扩展性）
9. 架构能作为**演化式原型开发的基础**（基于稳健架构的原型更易演化与适配）
10. 架构通过**限制设计选项，引导开发者的创造力，降低设计与系统复杂**度（更简单的系统更易维护与扩展）
11. 架构决定**组织架构（或反之）**（组织与架构对齐可保障项目顺利执行）
12. 架构能作为**新团队成员的培训基础**（清晰的架构基础帮助新成员更快上手）
13. 架构能作为演化式原型开发的基础（原型可基于架构迭代）
