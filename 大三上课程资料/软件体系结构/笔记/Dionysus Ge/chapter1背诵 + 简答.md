# What is Software Architecture? 

“架构以结构为核心工程杠杆：模块结构描述实现单元组织，C&C结构描述运行时组件与交互，分配结构描述到硬件/文件/组织环境的映射。架构用于支撑对干系人关注属性的推理；每个系统都有架构但可能未被文档化；架构优劣取决于是否满足特定目标与质量属性优先级。”

## 一、10个必背定义（背诵版）

1. **Software Architecture**：为推理系统所需的一组结构，由**元素、关系、属性**构成。
2. **Structure**：由一组**元素**及其**关系**组成的集合；系统包含多种结构。
3. **View**：面向干系人的、对某个一致结构集合的**表示/文档化表达**；view 是 structure 的表示。
4. **Module Structure**：描述系统作为实现单元（模块）如何组织与分解，用于职责分配与依赖管理。
5. **Component-and-Connector (C&C) Structure**：描述运行时组件及其交互连接件，用于推理性能/安全/可用性等运行时属性。
6. **Allocation Structure**：描述软件元素到外部环境（硬件/文件/组织等）的映射，用于推理部署与开发管理相关问题。
7. **Architectural (structure)**：若一个结构能支持对**干系人重要**的系统属性进行推理，则它是架构性的。
8. **Abstraction (in architecture)**：架构通过抽象**选择推理所需细节**并抑制仅影响单个元素内部实现的私有细节。
9. **Architectural Pattern**：被验证可复用的元素类型与交互形式的组合，为一类问题提供打包策略。
10. **Decomposition Structure**：一种模块结构，关系为“is-a-submodule-of”，通过分解使变更局部化以提升可修改性。

------

## 二、10个对比题（标准答案句式）

1. **架构（Architecture） vs 架构文档（Architecture documentation）**

- 架构是系统客观存在的结构集合；文档是对这些结构的视图表达。系统可能有架构但无文档，文档缺失会削弱沟通与评估。

1. **Structure vs View**

- Structure 是元素与关系在系统中客观存在的集合；View 是对结构（或结构集合）的表示，用于干系人阅读、沟通与推理。

1. **Module vs Component**

- Module 是实现单元（构建时/代码组织）；Component 是运行时实体（执行与交互）。两者通常 **many-to-many** 映射，不能假设一一对应。

1. **模块结构 vs C&C结构**

- 模块结构回答“怎么分职责、怎么控依赖”；C&C结构回答“运行时谁和谁怎么交互、并行/复制/数据流如何”。对应推理的质量属性侧重点不同。

1. **C&C结构 vs Allocation结构**

- C&C看运行时组件与连接件；Allocation看软件到硬件/文件/组织等环境的映射（部署、目录、团队分工），用于推理部署与管理约束。

1. **“早期/重大决策”定义 vs “结构集合”定义**

- 早期/重大难判定：不是所有架构决策都早，也不是所有早期决策都架构，“重大”标准主观；结构更可识别、可文档化、可用于推理与设计。

1. **依赖（dependency） vs uses 关系**

- uses 是更强的依赖：A uses B 表示 A 的正确性需要一个正确工作的 B（不是 stub）。因此 uses 结构适合做子集裁剪与增量交付的依据。

1. **Layer（分层结构） vs Tier（多层部署）**

- Layer 是模块/依赖受控的结构（代码层次）；Tier 是部署/分配的物理分层（硬件/节点层次）。别把“分层代码结构”和“多层部署”混写。

1. **Pattern（架构模式） vs “随便的风格/偏好”**

- Pattern 是被反复验证的“元素类型+交互形式”的组合，可复用、可解释其对质量属性的影响；偏好只是个人选择，缺少可推理与复用的结构语义。

1. **“盒线图” vs “架构描述”**

- 仅有盒线缺少交互语义与可推理属性，读者只能脑补；架构描述应给出元素、关系（含语义）及关键属性，以支撑对系统的推理。

------

## 三、6道简答题（标准答案，可直接抄）

### 1）什么是软件体系结构？请写出定义并说明关键构成。

**标准答案：**
软件体系结构是为推理系统所需的一组结构，这些结构由软件元素、元素之间的关系以及二者的属性构成。架构强调“结构集合”而非单一图或单一决策，其目的在于支撑对系统功能与质量属性（如可用性、性能、可修改性等）的分析与取舍。

------

### 2）为什么本书不用“早期/重大设计决策”来定义架构？

**标准答案：**
“早期/重大决策”难以客观判定：并非所有架构决策都发生在早期，且早期做出的许多决策并不属于架构；“重大”也很难在不同干系人之间达成一致。相比之下，“结构”更容易识别与表达，并能作为系统设计与分析的工程抓手，因此本书采用“结构集合”的定义。

------

### 3）架构的三类结构是什么？各自用于回答什么问题？

**标准答案：**
三类结构为：模块结构（Module）、组件-连接件结构（C&C）、分配结构（Allocation）。模块结构关注实现单元如何组织、职责与依赖如何划分；C&C结构关注运行时组件如何交互、并行与数据流如何形成，用于推理运行时质量属性；分配结构关注软件元素如何映射到硬件、文件系统与组织团队等外部环境，用于推理部署与开发管理约束。

------

### 4）Structure 与 View 有何区别？为什么需要多视图？

**标准答案：**
Structure 是系统中客观存在的元素与关系集合；View 是对结构（或结构集合）的表示，面向特定干系人用于沟通与推理。需要多视图是因为不同干系人关注的系统属性不同，单一结构无法同时支撑所有推理；多个视图共同描述同一系统，并需通过结构间映射保持一致性。

------

### 5）什么样的结构算“架构性结构”（Architectural）？

**标准答案：**
若一个结构能够支持对系统某个重要属性进行推理，并且该属性对某些干系人重要，则该结构是架构性的。架构性不取决于画得是否“宏大/早期/复杂”，而取决于它是否为分析系统功能、质量属性与关键取舍提供必要信息。

------

### 6）什么是好的架构？列举过程类与结构类经验法则各2条说明。

**标准答案：**
不存在脱离目标的“绝对好架构”，架构优劣应在明确的目标与质量属性优先级上下文中评估。过程上：应由单一架构师或小团队保持概念一致性；基于优先级明确的质量属性需求并尽早进行架构评估与迭代。结构上：模块划分应遵循信息隐藏/关注点分离以封装变化；系统交互机制应尽量少且一致，并将资源争用点控制在少数明确位置以便分析与维护。

