# 1.1 计算机类型

- 嵌入式计算机

集成在一个较大的设备中，一般用于自动监控和控制

- 个人计算机

功能综合性强，个人用途

还可以分为台式、工作站、便携式、笔记本计算机

- 服务器、企业系统

能被大量用户共享的大型计算机，通过网络发起访问，比如大型的数据库

- 超级计算机、网格计算机

提供最高的性能，物理上最大型的计算机，用于天气预报、工程设计与仿真领域

网格计算机实际上是将大量的个人计算机和磁盘存储单元整合在一个物理上分散的高速网格中

- 云计算

通过互联网访问计算和存储服务器资源

好的，我将为您提供更详细的补充介绍，并进行对比和总结。

### 对比总结

| 类型         | 功能特点           | 适用场景               | 优缺点                     |
| ------------ | ------------------ | ---------------------- | -------------------------- |
| 嵌入式计算机 | 专用性强、实时性高 | 自动监控、控制设备     | 成本低、资源有限           |
| 个人计算机   | 多功能、可扩展     | 办公、学习、娱乐       | 价格相对便宜、功能全面     |
| 服务器       | 高性能、多用户共享 | 企业数据处理、网站托管 | 需要高维护成本             |
| 超级计算机   | 极高性能           | 科学研究、大规模仿真   | 成本高、专用性强           |
| 网格计算机   | 分布式计算、低成本 | 大数据处理、科学计算   | 性能受限于网络和个人电脑   |
| 云计算       | 灵活、按需付费     | 各种业务、远程办公     | 依赖网络、可能存在隐私问题 |

# 1.2 功能部件

- 输入、输出、内存、算术、控制器

计算机中五个功能相对独立的主要部分

算术逻辑电路与主控制电路结合构成了处理器(processor)，输人设备和输出设备通常整体称为输入/输出(input-output,I/O)设备。

- 指令、机器指令

1. 控制计算机与 I/O 设备之间以及计算机内部的信息传送。
2. 指定要执行的算术和逻辑运算。

- 程序

执行任务的指令序列

存储在存储器中

处理器从存储器中一条条地取出程序指令，然后完成所需要的操作

- 数据

作为指令操作数的数字和字符

存储在存储器中

- 位

大多硬件使用的仍是只有两个稳定状态的数字电路

所以指令、数字、字符都被编码成二进制字符串

## 输入设备

通过输入设备接收编码后的信息

- 键盘

- 人机交互的输入设备、图形输入装置、声音输入

- 数字通信设施

## 存储器

存储**程序**与**数据**

### 主存

- 单元
- 字
- 字长

程序要执行必须存储在主存中 

主存由大量的半导体存储单元构成

每个存储单元可以存储一位二进制信息

单元一般是按组进行处理，这个组称为字

每个字所包含的位数称为计算机的字长



- 地址

每个字都与一个地址相关联

地址是从0开始的数字

指明一个特定字的地址，然后向主存发送存储或检索的控制命令，就可以对该字访问



- RAM

处理器的控制下，指令和数据可以从主存读写

**任何一个单元**在指明地址后都能在一个很短的**固定时间**内访问到的存储器，叫随机访问存储器

- 存储器访问时间

访问一个字所需要的时间

这个时间和所访问的字的位置无关

### 高速缓存

主存储器的辅助手段，为了提高指令的执行速率

更小、更快

RAM设备

存储正在执行的程序段和所有相关数据

与处理器紧密耦合，通常在一个集成电路芯片上



程序开始时，高速缓存是空的，所有程序指令和数据都在主存中

指令被读到处理器后，会拷贝一份副本到高速缓存中；指令需要数据时，也拷贝到高速缓存中



如果许多指令重复执行、许多数据重复访问，那么它们可以被很快地从cache中取出来

### 辅助存储

主存储器价格昂贵且断电后无法保存信息

辅助存储用于存储大量的数据和程序，尤其是不经常访问的信息

辅助存储的访问时间会比较长

有很多种类。包括：

- 磁盘
- 光盘、DVD、CD
- 闪存设备

## 算术逻辑单元 (ALU)

计算机的操作是由算术逻辑部件ALU或者运算器执行的

任意的运算，都是通过将所需的操作数送至ALU执行运算的处理器开始的

所求的结果可能存储到主存或者处理器中

- 寄存器

当操作数送至处理器时，被存储在寄存器中（高速存储单元）

每个寄存器可以存一个字的数据

## 输出设备

## 控制器

协调输入输出、存储器和运算器的操作

中枢系统

将控制信号传送到其它设备并检验它们状态

程序指令控制$I/O$传输，识别相关的设备和需要传输的信息



- 时钟信号

由控制电路产生，控制传输和决定何时发生

处理器和存储器的数据传输也要由时钟信号控制



很多控制电路分布在整个计算机中

由控制线（缆线）传递着所有部件中事件的时序和同步信号



计算机的操作可以如下归类

- 通过输入设备以**程序**和**数据**的形式接收信息，将其存储在存储器中
- 在程序在控制下，存储在存储器中的信息被取出，送入运算器处理
- 经过处理的信息由输出设备送出计算机
- 计算机所有活动都由控制器控制

# 1.3 基本操作概念

![image-20241101002116928](Chapter 1 计算机基本结构.assets/image-20241101002116928.png)

考虑如上指令

#### 内容

将LOC所指向的内容送到寄存器处理器R2中

LOC单元原来的内容被保存，而R2的原始内容被覆盖

#### 需要多个步骤

指令从存储器中取出，送入处理器

由控制器确定要执行的操作

从LOC中取内容送入处理器

将操作数存储到寄存器R2中



- IR 指令寄存器

  instruction register

  保存当前正在执行的指令

  输出结果可由控制电路使用，产生一个控制指令执行时处理不同部件的时钟信号

  

- PC

  program counter

  另一个专用的寄存器

  包含下一条即将被读取和执行的指令的存储器地址

  也即指向下一条将从存储器中取出的指令



- 通用寄存器

  也称为处理器寄存器，有许多功能

  可以从存储器中载入待处理的操作数



处理器和存储器之间存在接口，这是一个数据传输的电路

读写时，则需要读写数据的地址 + 读写控制信号



一个简单的操作步骤

1. 程序被存储在主存中，通常是通过输入设备从辅助存储器到主存
2. PC指向第一条指令时，程序开始执行
3. PC中的内容同一个读控制信号被传送到存储器中
4. 被寻址的字（程序的第一条指令）从存储器读出时，被装入IR
5. 随后指令可以进行解释和执行，PC指向下一条指令（在每条指令执行的某个点上）



指令执行数据传输和算术操作，比如Load，Store，Add

如果指令需要存储器中操作数，会发送一个地址与读控制信号给存储器

当操作数从存储器中读出后，被传送到处理器寄存器中

随后ALU就可以对处理器寄存器中的值进行运算

运算结果会送到一个处理器寄存器中

如果结果需要写到存储器中，会给出一个寄存器地址以及存储器目标地址，同时伴随写控制信号



- 中断、中断服务请求

比如监视器观察到一个危险的情况，必须立即作出响应，会暂停当前程序的执行，转而执行一个中断服务请求

这样的转变会改变处理器的内部状态，所以在中断之前要将处理器的状态保存到存储器中

一般涉及到PC中的内容、通用寄存器的内容和一些控制信息

当中断服务程序完成后，处理器的状态就从存储器中恢复，被中断的程序可以继续执行



# 1.4 数字与算法的表达

## 整数

需要表示正数和负数，有三种编码系统可以用于选择

- 原码
- 反码
- 补码

在所有编码体系中，正数的表示方法相同（也即正数的反码、补码都与源码相同），但负数有所差异

1. 原码中，负数值是将相应正数值的最高有效位由0变为1
2. 反码中，负数值是将相应正数的每一位求反
3. 补码中，负数值是将这个数的原码取反再加1得到



在原码和反码中，+0和-0有着不同的表示

在补码中只有一种表示，1000…表示的是$-2^n$

补码系统为运算提供了最有效的方法



### 无符号整数加法

无符号数也即没有符号位



### 有符号整数加法与减法

- 有符号数

也即有符号位，可以用上述三种系统表示

- 最高有效位

- 算术溢出

检验溢出：测试两个加数的符号和结果的符号

和的符号和加数的符号不同时发生溢出

做减法A-B时，用上述方法对A和-B进行判断即可



### 符号扩展

用更多的位数来表示一个用一定位数给出的值

对于正数，在其左边加0

对于用补码表示的负数，在左边加1

## 浮点数

- 固定小数点

对于一个32位数字，指定其小数点的位置

- 浮点数

小数点位置可变的数字

- 有效数字

从左边起第一位非0数字到最后一位数字的位数

- 比例因子

也即$2^n$，n可为正数或负数



总的来说，二进制浮点数如下表示：

1. 数的符号位
2. 数的有效位
3. 有符号的比例因子（隐含的基数为2）

对于32位浮点数，IEEE标准为：

1位符号位，23位有效位与8位比例因子

# 1.5 字符的表达

- ASCII -> 8位 -> 字节

- BCD

  二进制编码的十进制码
  
  在ASCLL码中，十进制数字0-9的低四位分别对应了二进制数字系统的前十个值



# 1.6 性能

评价因素：执行程序的速度

主要受到指令集、硬件、软件（主要是操作系统和实现硬件的技术）影响

另外也会受到将程序转换为机器语言的编译器的影响



## 技术

- VLSI 

  超大规模集成电路
  
  影响性能的关键因素
  
  晶体管越小，逻辑电路中0和1状态切换的速度越快

## 并行

并行执行多项操作，用于提升性能

### 指令的并行

执行指令序列，最简单的方法是当一个指令全部执行完后再执行下一个

并行可以是这样：在执行该条指令的算术运算时，可以从存储器提取下一条指令

- 流水线

### 多核处理器

单个芯片上放置多个处理单元

- 核 – 芯片上的处理单元
- 处理器 – 整个芯片

### 多处理器

- 多处理器

并行执行许多个不同的任务或者一个大任务的各个子任务

- 共享内存多处理器

多个处理器可以访问这个系统中的所有存储器

这样的高性能使得复杂度大大提高，尤其是构建处理器和存储器的互连网络

- 消息传递多计算机

将一组计算机互连起来，各个通常只访问各自的处理器，通过通信网络去交换共享的数据

# 1.7 发展历史

20世纪中叶之前的300年内，计算器是由齿轮、杠杆、滑轮等复杂的机械结构组成的，穿孔卡片上的孔被机器感知后自动控制的一系列计算

## 真空管

提出了程序存储的核心概念，也即程序和程序中使用的数据放在同一个存储器中

## 晶体管

使用了磁芯存储器和磁鼓存储设备

在该时期开发出了磁盘存储设备，以及最早的高级语言Fortran

- AT&T贝尔实验室

## 集成电路

集成电路：在一个独立的硅芯片上建造许多晶体管

集成电路存储器开始取代磁芯存储器

开发出了微程序设计、并行性和流水线技术

开发出了虚存和缓存技术，使得主存看起来更大、更快



一些公司

- 德州仪器
- 仙童半导体

## VLSI

微处理器：也即芯片上可以完整制造一个处理器

- FPGA

  现场可编程门阵列

  使系统开发者可以在单一芯片上设计实现处理器、存储器以及I/O电路

  主要应用于嵌入式系统

- 一些公司

  - 英特尔

  - 国家半导体

  - 摩托罗拉

  - 德州仪器

  - 超微半导体

    AMD



# 例题分析

## 1.1

![image-20241101112012255](Chapter 1 计算机基本结构.assets/image-20241101112012255.png)

关键：

- 从涉及的部件下手，PC、IR、主存，想象这个流程，它们分别的作用
- 指令和数据都需要被读取，指令涉及到操作数据时才从主存中访问

## 1.2

![image-20241101112300042](Chapter 1 计算机基本结构.assets/image-20241101112300042.png)

关键：

- 指令在从存储器读到处理器后，会拷贝一份副本到高速缓存中，数据在被访问后也会拷贝到缓存中
- 处理器会优先访问缓存

## 1.3

![image-20241101112613919](Chapter 1 计算机基本结构.assets/image-20241101112613919-17304315743901.png)

主要在于溢出的判断，看操作数和结果是否同号即可